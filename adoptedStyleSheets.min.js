(function(){"use strict";const e="adoptedStyleSheets"in document;if(!e){const e=Symbol("constructible style sheets");const t=Symbol("constructed");const o=Symbol("obsolete");const s=Symbol("listener");const n=document.createElement("iframe");const d=s=>{s.forEach(s=>{const{addedNodes:n,removedNodes:d}=s;d.forEach(e=>{if(e[t]&&!e[o]){setTimeout(()=>{e[t].appendChild(e)})}});n.forEach(t=>{const{shadowRoot:o}=t;if(o&&o.adoptedStyleSheets){o.adoptedStyleSheets.forEach(t=>{o.appendChild(t[e]._sheet)})}})})};const r=new MutationObserver(d);r.observe(document.body,{childList:true});n.hidden=true;document.body.appendChild(n);const c=(o,s)=>{const n=s[e]._sheet.cloneNode(true);o.body?o=o.body:null;n[t]=o;s[e]._adopters.push({location:o,clone:n});o.appendChild(n);return n};const h=t=>{t[e]._adopters.forEach(o=>{o.clone.innerHTML=t[e]._sheet.innerHTML})};const i=(t,o)=>t=>{const s=t.target.shadowRoot;if(s&&s.adoptedStyleSheets.length){const t=s.adoptedStyleSheets;t.map(t=>t[e]).map(e=>{e._adopters=e._adopters.filter(e=>e.location!==s)})}o.disconnect()};class a{constructor(){this._adopters=[];const t=document.createElement("style");n.contentWindow.document.body.appendChild(t);this._sheet=t;t.sheet[e]=this;return t.sheet}}CSSStyleSheet.prototype.replace=function(t){return new Promise((o,s)=>{if(this[e]){this[e]._sheet.innerHTML=t;o(this[e]._sheet.sheet);h(this)}else{s("replace can only be called on a constructed style sheet")}})};CSSStyleSheet.prototype.replaceSync=function(t){if(this[e]){this[e]._sheet.innerHTML=t;h(this);return this[e]._sheet.sheet}else{throw new TypeError("replaceSync can only be called on a constructed style sheet")}};window.CSSStyleSheet=a;const l={get(){return this._adopted||[]},set(t){const s=this.body?this.body:this;this._adopted=this._adopted||[];const n=new MutationObserver(d);n.observe(this,{childList:true});if(!Array.isArray(t)){throw new TypeError("Adopted style sheets must be an Array")}t.forEach(e=>{if(!e instanceof CSSStyleSheet){throw new TypeError("Adopted style sheets must be of type CSSStyleSheet")}});const r=[...new Set(t)];const h=this._adopted.filter(e=>!r.includes(e));h.forEach(t=>{console.log({sheet:t});const n=t[e]._adopters.filter(e=>e.location===s)[0].clone;n[o]=true;n.parentNode.removeChild(n)});this._adopted=r;if(this.isConnected){t.forEach(e=>{c(this,e)})}const a=i(this,n);this[a]=a;this.addEventListener("DOMNodeRemoved",a,true)}};Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",l);Object.defineProperty(document,"adoptedStyleSheets",l)}})(undefined);