(function(){"use strict";const e="adoptedStyleSheets"in document;if(!e){function t(t){if(this[e]){this[e]._sheet.innerHTML=t;a(this);return this[e]._sheet.sheet}else{throw new TypeError("replaceSync can only be called on a constructed style sheet")}}function o(t){return new Promise((o,s)=>{if(this[e]){this[e]._sheet.innerHTML=t;o(this[e]._sheet.sheet);a(this)}else{s("replace can only be called on a constructed style sheet")}})}const e=Symbol("constructible style sheets");const s=Symbol("constructed");const n=Symbol("obsolete");const r=Symbol("listener");const c=document.createElement("iframe");const d=t=>{t.forEach(t=>{const{addedNodes:o,removedNodes:r}=t;r.forEach(e=>{if(e[s]&&!e[n]){setTimeout(()=>{e[s].appendChild(e)})}});o.forEach(t=>{const{shadowRoot:o}=t;if(o&&o.adoptedStyleSheets){o.adoptedStyleSheets.forEach(t=>{o.appendChild(t[e]._sheet)})}})})};const h=new MutationObserver(d);h.observe(document.body,{childList:true});c.hidden=true;document.body.appendChild(c);const i=(t,o)=>{const n=o[e]._sheet.cloneNode(true);t.body?t=t.body:null;n[s]=t;o[e]._adopters.push({location:t,clone:n});t.appendChild(n);return n};const a=t=>{t[e]._adopters.forEach(o=>{o.clone.innerHTML=t[e]._sheet.innerHTML})};const l=(t,o)=>t=>{const s=t.target.shadowRoot;if(s&&s.adoptedStyleSheets.length){const t=s.adoptedStyleSheets;t.map(t=>t[e]).map(e=>{e._adopters=e._adopters.filter(e=>e.location!==s)})}o.disconnect()};class p{constructor(){this._adopters=[];const s=document.createElement("style");c.contentWindow.document.body.appendChild(s);this._sheet=s;s.sheet[e]=this;if(!s.sheet.constructor.prototype.replace){s.sheet.constructor.prototype.replace=o;s.sheet.constructor.prototype.replaceSync=t}return s.sheet}}StyleSheet.prototype.replace=o;CSSStyleSheet.prototype.replace=o;CSSStyleSheet.prototype.replaceSync=t;StyleSheet.prototype.replaceSync=t;window.CSSStyleSheet=p;const y={get(){return this._adopted||[]},set(t){const o=this.body?this.body:this;this._adopted=this._adopted||[];const s=new MutationObserver(d);s.observe(this,{childList:true});if(!Array.isArray(t)){throw new TypeError("Adopted style sheets must be an Array")}t.forEach(e=>{if(!e instanceof CSSStyleSheet){throw new TypeError("Adopted style sheets must be of type CSSStyleSheet")}});const r=[...new Set(t)];const c=this._adopted.filter(e=>!r.includes(e));c.forEach(t=>{const s=t[e]._adopters.filter(e=>e.location===o)[0].clone;s[n]=true;s.parentNode.removeChild(s)});this._adopted=r;if(this.isConnected){t.forEach(e=>{i(this,e)})}const h=l(this,s);this[h]=h;this.addEventListener("DOMNodeRemoved",h,true)}};Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",y);Object.defineProperty(document,"adoptedStyleSheets",y)}})(undefined);